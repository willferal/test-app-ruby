<!-- Sidebar -->
<div class="flex flex-shrink-0 transition-all">
  <div
    x-show="isSidebarOpen"
    @click="isSidebarOpen = false"
    class="fixed inset-0 z-10 bg-black bg-opacity-50 lg:hidden"
  ></div>
  <div x-show="isSidebarOpen" class="fixed inset-y-0 z-10 w-16 bg-white"></div>
  <!-- Left mini bar -->
  <nav
    aria-label="Options"
    class="z-20 flex-col items-center flex-shrink-0 hidden w-16 py-2 bg-white dark:bg-dark border-r-2 border-gray-100 dark:border-gray-600 shadow-md sm:flex"
  >
    <div class="flex flex-col items-center flex-1 p-2 space-y-4">
      <!-- Menu button -->
      <button
        @click="(isSidebarOpen && currentSidebarTab == 'linksTab') ? isSidebarOpen = false : isSidebarOpen = true; currentSidebarTab = 'linksTab'"
        class="p-2 transition-colors rounded-lg shadow-md hover:bg-primary dark:hover:bg-primary-dark hover:text-white focus:outline-none focus:ring focus:ring-primary dark:focus:ring-primary-dark focus:ring-offset-white focus:ring-offset-2"
        :class="(isSidebarOpen && currentSidebarTab == 'linksTab') ? 'text-white bg-primary' : 'text-gray-200 bg-primary-dark'"
      >
        <span class="sr-only">Toggle sidebar</span>
        <%= heroicon 'bars-3' %>
      </button>
      
    </div>

  </nav>

  <div
    x-transition:enter="transform transition-transform duration-300"
    x-transition:enter-start="-translate-x-full"
    x-transition:enter-end="translate-x-0"
    x-transition:leave="transform transition-transform duration-300"
    x-transition:leave-start="translate-x-0"
    x-transition:leave-end="-translate-x-full"
    x-show="isSidebarOpen"
    class="fixed inset-y-0 left-0 z-10 flex-shrink-0 w-64 bg-white dark:bg-dark border-r-2 border-gray-100 dark:border-gray-600 shadow-lg sm:left-16 sm:w-72 lg:static lg:w-64"
  >
    <nav x-show="currentSidebarTab == 'linksTab'" aria-label="Main" class="flex flex-col h-full">

      <!-- Sidebar links -->
      <nav aria-label="Main" class="flex-1 px-2 py-4 space-y-2 overflow-y-hidden hover:overflow-y-auto dark:bg-dark">
        <%= render 'layouts/template/sidebar_links' %>
      </nav>
      

      <!-- Sidebar footer -->
      <div class="flex-shrink-0 px-2 py-4 space-y-2">
        <button
          @click="openSettingsPanel"
          type="button"
          class="flex items-center justify-center w-full px-4 py-2 text-sm text-white rounded-md bg-primary hover:bg-primary-dark focus:outline-none focus:ring focus:ring-primary-dark focus:ring-offset-1 focus:ring-offset-white dark:focus:ring-offset-dark"
        >
          <span aria-hidden="true">
            <svg
                class="w-4 h-4 mr-2"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
            >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"
                />
            </svg>
          </span>
          <span>Customizar</span>
        </button>
      </div>
    </nav>
  </div>
</div>